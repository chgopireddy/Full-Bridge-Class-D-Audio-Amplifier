Version 4
SHEET 1 1208 1172
WIRE -192 -16 -320 -16
WIRE -80 -16 -192 -16
WIRE 80 -16 -80 -16
WIRE 240 -16 80 -16
WIRE 320 -16 240 -16
WIRE 608 -16 512 -16
WIRE 704 -16 608 -16
WIRE 80 0 80 -16
WIRE 240 0 240 -16
WIRE 608 0 608 -16
WIRE 704 0 704 -16
WIRE -192 64 -192 48
WIRE -16 64 -80 64
WIRE 384 64 384 -16
WIRE 384 64 336 64
WIRE 608 96 608 64
WIRE 704 96 704 80
WIRE 512 112 512 -16
WIRE -288 128 -432 128
WIRE -16 128 -224 128
WIRE 352 128 336 128
WIRE 352 192 352 128
WIRE 352 192 336 192
WIRE 464 192 352 192
WIRE 384 256 384 128
WIRE 384 256 336 256
WIRE 512 256 512 208
WIRE 512 256 384 256
WIRE 672 256 512 256
WIRE 784 256 752 256
WIRE 896 256 784 256
WIRE 512 304 512 256
WIRE -432 320 -432 128
WIRE -288 320 -432 320
WIRE -16 320 -224 320
WIRE 352 320 336 320
WIRE 784 336 784 320
WIRE -480 352 -496 352
WIRE -480 368 -480 352
WIRE 352 384 352 320
WIRE 352 384 336 384
WIRE 464 384 352 384
WIRE -752 416 -800 416
WIRE -640 416 -672 416
WIRE -624 416 -640 416
WIRE -800 432 -800 416
WIRE -576 432 -576 352
WIRE 512 432 512 400
WIRE -624 448 -624 416
WIRE -608 448 -624 448
WIRE -432 464 -432 320
WIRE -432 464 -544 464
WIRE -608 480 -624 480
WIRE 80 480 80 448
WIRE 240 480 240 448
WIRE -752 512 -800 512
WIRE -640 512 -672 512
WIRE -624 512 -624 480
WIRE -624 512 -640 512
WIRE -576 512 -576 496
WIRE -800 528 -800 512
WIRE 896 528 896 256
WIRE -192 640 -320 640
WIRE -80 640 -192 640
WIRE 80 640 -80 640
WIRE 240 640 80 640
WIRE 320 640 240 640
WIRE 608 640 512 640
WIRE 720 640 608 640
WIRE 80 656 80 640
WIRE 240 656 240 640
WIRE -16 720 -80 720
WIRE 384 720 384 640
WIRE 384 720 336 720
WIRE -320 736 -320 720
WIRE -192 736 -192 704
WIRE 608 736 608 704
WIRE 720 736 720 720
WIRE 512 768 512 640
WIRE -432 784 -432 464
WIRE -272 784 -432 784
WIRE -16 784 -208 784
WIRE 352 784 336 784
WIRE 352 848 352 784
WIRE 352 848 336 848
WIRE 464 848 352 848
WIRE 384 912 384 784
WIRE 384 912 336 912
WIRE 512 912 512 864
WIRE 512 912 384 912
WIRE 656 912 512 912
WIRE 768 912 736 912
WIRE 896 912 896 608
WIRE 896 912 768 912
WIRE 512 960 512 912
WIRE -432 976 -432 784
WIRE -288 976 -432 976
WIRE -16 976 -224 976
WIRE 352 976 336 976
WIRE 768 992 768 976
WIRE 352 1040 352 976
WIRE 352 1040 336 1040
WIRE 464 1040 352 1040
WIRE 512 1104 512 1056
WIRE 80 1120 80 1104
WIRE 240 1120 240 1104
FLAG 80 480 0
FLAG 240 480 0
FLAG -192 64 0
FLAG -320 64 0
FLAG 704 96 0
FLAG 608 96 0
FLAG 512 432 0
FLAG -192 736 0
FLAG -320 736 0
FLAG 720 736 0
FLAG 608 736 0
FLAG 80 1120 0
FLAG 240 1120 0
FLAG 512 1104 0
FLAG -480 368 0
FLAG -576 512 0
FLAG -800 432 0
FLAG -800 528 0
FLAG 784 336 0
FLAG 768 992 0
FLAG -640 512 Vsin
FLAG -640 416 Vtri
FLAG -432 464 Vpwm
FLAG 896 256 Vo1
FLAG 896 912 Vo2
SYMBOL PowerProducts\\LT1162 160 208 R0
SYMATTR InstName U1
SYMBOL cap -208 -16 R0
WINDOW 0 -22 57 Left 2
SYMATTR InstName C1
SYMATTR Value 10ľ
SYMATTR SpiceLine V=30
SYMBOL res -96 -32 R0
WINDOW 0 -35 48 Left 2
WINDOW 3 30 48 Left 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL voltage -320 -32 R0
WINDOW 0 -56 20 Left 2
WINDOW 3 -64 91 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12v
SYMBOL diode 320 0 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 81 34 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL cap 368 64 R0
SYMATTR InstName C2
SYMATTR Value 1ľ
SYMATTR SpiceLine V=100
SYMBOL nmos 464 112 R0
SYMATTR InstName M1
SYMATTR Value IRLML6344
SYMBOL nmos 464 304 R0
SYMATTR InstName M2
SYMATTR Value IRLML6344
SYMBOL voltage 704 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL cap 592 0 R0
WINDOW 0 37 30 Left 2
WINDOW 3 -59 31 Left 2
SYMATTR InstName C3
SYMATTR Value 100ľ
SYMBOL PowerProducts\\LT1162 160 864 R0
SYMATTR InstName U2
SYMBOL voltage -320 624 R0
WINDOW 0 -56 20 Left 2
WINDOW 3 -64 91 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12v
SYMBOL cap -208 640 R0
WINDOW 0 -22 57 Left 2
SYMATTR InstName C4
SYMATTR Value 10ľ
SYMATTR SpiceLine V=30
SYMBOL res -96 624 R0
WINDOW 0 -35 48 Left 2
WINDOW 3 30 48 Left 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL diode 320 656 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 81 34 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL cap 368 720 R0
SYMATTR InstName C5
SYMATTR Value 1ľ
SYMATTR SpiceLine V=100
SYMBOL nmos 464 768 R0
SYMATTR InstName M3
SYMATTR Value IRLML6344
SYMBOL nmos 464 960 R0
SYMATTR InstName M4
SYMATTR Value IRLML6344
SYMBOL cap 592 640 R0
WINDOW 0 37 30 Left 2
WINDOW 3 -59 31 Left 2
SYMATTR InstName C6
SYMATTR Value 100ľ
SYMBOL voltage 720 624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 12
SYMBOL Opamps\\UniversalOpamp2 -576 464 R0
SYMATTR InstName U3
SYMATTR Value2 Avol=1Meg GBW=10Meg Slew=10000000Meg
SYMBOL voltage -592 352 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL voltage -656 416 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 -93 119 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE(-0.5 0.5 0 1u 1u 0 2u)
SYMBOL voltage -656 512 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName V7
SYMATTR Value SINE(0 0.25 20k)
SYMBOL DigitalLogic\\INV_1 -272 128 R0
SYMATTR InstName U4
SYMBOL DigitalLogic\\INV_1 -272 976 R0
SYMATTR InstName U5
SYMBOL DigitalLogic\\BUF_1 -272 320 R0
SYMATTR InstName U6
SYMBOL DigitalLogic\\BUF_1 -256 784 R0
SYMATTR InstName U7
SYMBOL ind 656 272 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 22ľ
SYMBOL ind 640 928 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 22ľ
SYMBOL cap 768 256 R0
SYMATTR InstName C7
SYMATTR Value 1.375ľ
SYMBOL cap 752 912 R0
SYMATTR InstName C8
SYMATTR Value 1.375ľ
SYMBOL res 880 512 R0
SYMATTR InstName R3
SYMATTR Value 8
TEXT 208 -240 Left 2 !.tran 500u

